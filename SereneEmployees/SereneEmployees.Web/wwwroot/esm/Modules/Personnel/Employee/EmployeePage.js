import{c as r,f as a,g as v,h as g,i as D,j as l}from"../../../_chunks/chunk-7V7WNOD5.js";var N=a(l(),1);var S=a(l(),1);var f=class f extends S.ColumnsBase{};r(f,"EmployeeColumns"),f.columnsKey="Personnel.Employee",f.Fields=(0,S.fieldsProxy)();var x=f;var o=a(l(),1);var p=class p extends o.PrefixedContext{constructor(q){if(super(q),!p.init){p.init=!0;var e=o.StringEditor,t=o.DateEditor,n=o.DecimalEditor,i=o.ImageUploadEditor;(0,o.initFormType)(p,["FullName",e,"HireDate",t,"BirthDate",t,"Salary",n,"Image",i])}}};r(p,"EmployeeForm"),p.formKey="Personnel.Employee";var y=p;var L=a(l(),1);var s=class s{};r(s,"EmployeeRow"),s.idProperty="Id",s.nameProperty="FullName",s.localTextPrefix="Personnel.Employee",s.deletePermission="Administration:General",s.insertPermission="Administration:General",s.readPermission="Administration:General",s.updatePermission="Administration:General",s.Fields=(0,L.fieldsProxy)();var m=s;var I=a(l(),1),c;(e=>(e.baseUrl="Personnel/Employee",e.Methods={Create:"Personnel/Employee/Create",Update:"Personnel/Employee/Update",Delete:"Personnel/Employee/Delete",Retrieve:"Personnel/Employee/Retrieve",List:"Personnel/Employee/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(n,i,R){return(0,I.serviceRequest)(e.baseUrl+"/"+t,n,i,R)}})))(c||(c={}));var w=a(l(),1);var E=a(l(),1);var F,b,H;F=[E.Decorators.registerClass("SereneEmployees.Personnel.EmployeeDialog")];var d=class d extends(H=E.EntityDialog){constructor(){super(...arguments);this.form=new y(this.idPrefix)}getFormKey(){return y.formKey}getRowDefinition(){return m}getService(){return c.baseUrl}validateBeforeSave(){if(!super.validateBeforeSave())return!1;let e=this.form.BirthDate.value,t=new Date(e);if(isNaN(t.getTime()))return alert("Invalid birth date."),!1;let n=this.calculateAge(t);if(n<25||n>60)return alert("Age must be between 25 and 60 years."),!1;let i=this.form.HireDate.value,R=new Date(i);if(isNaN(R.getTime()))return alert("Invalid hire date."),!1;let B=new Date(2020,0,1);return R<B?(alert("Hire date must be on or after January 1st, 2020."),!1):!0}calculateAge(e){let t=new Date,n=t.getFullYear()-e.getFullYear(),i=t.getMonth()-e.getMonth();return(i<0||i===0&&t.getDate()<e.getDate())&&n--,n}};b=v(H),d=D(b,0,"EmployeeDialog",F,d),r(d,"EmployeeDialog"),g(b,1,d);var P=d;var A,C,K;A=[w.Decorators.registerClass("SereneEmployees.Personnel.EmployeeGrid")];var u=class u extends(K=w.EntityGrid){getColumnsKey(){return x.columnsKey}getDialogType(){return P}getRowDefinition(){return m}getService(){return c.baseUrl}};C=v(K),u=D(C,0,"EmployeeGrid",A,u),r(u,"EmployeeGrid"),g(C,1,u);var h=u;var ue=r(()=>(0,N.gridPageInit)(h),"default");export{ue as default};
//# sourceMappingURL=EmployeePage.js.map
